<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•±ì´ì˜(Appisso) - ë³´í—˜&ê¸°ì—… ì»¨ì„¤íŒ…</title>
    <style>
        body { font-family: sans-serif; padding: 20px; line-height: 1.6; max-width: 600px; margin: 0 auto; }
        .container { border: 1px solid #ddd; padding: 20px; border-radius: 10px; background: #f9f9f9; }
        textarea { width: 100%; height: 100px; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc; padding: 10px; }
        button { width: 100%; padding: 10px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        #result { margin-top: 20px; white-space: pre-wrap; background: white; padding: 15px; border: 1px solid #eee; }
    </style>
</head>
<body>
    <div class="container">
        <h2>ğŸ“‘ ì•±ì´ì˜ AI ì»¨ì„¤í„´íŠ¸</h2>
        <p>ë³´í—˜ ìƒí’ˆì´ë‚˜ ê¸°ì—… ì¬ë¬´ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì„ ì ì–´ì£¼ì„¸ìš”.</p>
        <textarea id="prompt" placeholder="ì˜ˆ: 50ëŒ€ ë‚¨ì„±ì—ê²Œ ìœ ë¦¬í•œ ì•”ë³´í—˜ ë‹´ë³´ë¥¼ ìš”ì•½í•´ì¤˜."></textarea>
        <button onclick="askAI()">AI ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
        <div id="result">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
    </div>

    <script>
        async function askAI() {
            const prompt = document.getElementById('prompt').value;
            const resultDiv = document.getElementById('result');
            resultDiv.innerText = "ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.";

            try {
                // ìš°ë¦¬ê°€ ë§Œë“  api/chat.js í†µë¡œë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt })
                });

                const data = await response.json();
                resultDiv.innerText = data.text || data.error;
            } catch (error) {
                resultDiv.innerText = "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.";
            }
        }
    </script>
</body>
</html>